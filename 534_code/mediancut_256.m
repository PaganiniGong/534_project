img = imread('/Users/apple/Desktop/Project1-images/t1.jpg');
img_red = img(:,:,1);
img_green = img(:,:,2);
img_blue = img(:,:,3);
[m, n, z] = size(img);
A = (m*n);
B = (m*n);
C = (m*n);
for i = 1 : m
    for j = 1 : n
         A(i*j) = img_red(i,j);
    end
end
for i = 1 : m
    for j = 1 : n
         B(i*j) = img_green(i,j);
    end
end
for i = 1 : m
    for j = 1 : n
         C(i*j) = img_blue(i,j);
    end
end
all = [A',B',C'];
all = mediansort(all); 
all1 = all(1:(m*n)/2,:);
all2 = all((m*n)/2 + 1:end,:);
all1 = mediansort(all1);
all2 = mediansort(all2);
all3 = all1(1:fix((m*n)/4),:);
all4 = all1(fix((m*n)/4) + 1:end,:);
all5 = all2(1:fix((m*n)/4),:);
all6 = all2(fix((m*n)/4) + 1:end,:);
all3 = mediansort(all3);
all4 = mediansort(all4);
all5 = mediansort(all5);
all6 = mediansort(all6);
[x, y] = size(all3);
all7 = all3(1:fix(x/2),:);
all8 = all3(fix(x/2) + 1:end,:);
all9 = all4(1:fix(x/2),:);
all10 = all4(fix(x/2) + 1:end,:);
all11 = all5(1:fix(x/2),:);
all12 = all5(fix(x/2) + 1:end,:);
all13 = all6(1:fix(x/2),:);
all14 = all6(fix(x/2) + 1:end,:);
all7 = mediansort(all7);
all8 = mediansort(all8);
all9 = mediansort(all9);
all10 = mediansort(all10);
all11 = mediansort(all11);
all12 = mediansort(all12);
all13 = mediansort(all13);
all14 = mediansort(all14);
[x, y] = size(all7);
all15 = all7(1:fix(x/2),:);
all16 = all7(fix(x/2) + 1:end,:);
all17 = all8(1:fix(x/2),:);
all18 = all8(fix(x/2) + 1:end,:);
all19 = all9(1:fix(x/2),:);
all20 = all9(fix(x/2) + 1:end,:);
all21 = all10(1:fix(x/2),:);
all22 = all10(fix(x/2) + 1:end,:);
all23 = all11(1:fix(x/2),:);
all24 = all11(fix(x/2) + 1:end,:);
all25 = all12(1:fix(x/2),:);
all26 = all12(fix(x/2) + 1:end,:);
all27 = all13(1:fix(x/2),:);
all28 = all13(fix(x/2) + 1:end,:);
all29 = all14(1:fix(x/2),:);
all30 = all14(fix(x/2) + 1:end,:);
all15 = mediansort(all15);
all16 = mediansort(all16);
all17 = mediansort(all17);
all18 = mediansort(all18);
all19 = mediansort(all19);
all20 = mediansort(all20);
all21 = mediansort(all21);
all22 = mediansort(all22);
all23 = mediansort(all23);
all24 = mediansort(all24);
all25 = mediansort(all25);
all26 = mediansort(all26);
all27 = mediansort(all27);
all28 = mediansort(all28);
all29 = mediansort(all29);
all30 = mediansort(all30);
[x, y] = size(all15);
all31 = all15(1:fix(x/2),:);
all32 = all15(fix(x/2) + 1:end,:);
all33 = all16(1:fix(x/2),:);
all34 = all16(fix(x/2) + 1:end,:);
all35 = all17(1:fix(x/2),:);
all36 = all17(fix(x/2) + 1:end,:);
all37 = all18(1:fix(x/2),:);
all38 = all18(fix(x/2) + 1:end,:);
all39 = all19(1:fix(x/2),:);
all40 = all19(fix(x/2) + 1:end,:);
all41 = all20(1:fix(x/2),:);
all42 = all20(fix(x/2) + 1:end,:);
all43 = all21(1:fix(x/2),:);
all44 = all21(fix(x/2) + 1:end,:);
all45 = all22(1:fix(x/2),:);
all46 = all22(fix(x/2) + 1:end,:);
all47 = all23(1:fix(x/2),:);
all48 = all23(fix(x/2) + 1:end,:);
all49 = all24(1:fix(x/2),:);
all50 = all24(fix(x/2) + 1:end,:);
all51 = all25(1:fix(x/2),:);
all52 = all25(fix(x/2) + 1:end,:);
all53 = all26(1:fix(x/2),:);
all54 = all26(fix(x/2) + 1:end,:);
all55 = all27(1:fix(x/2),:);
all56 = all27(fix(x/2) + 1:end,:);
all57 = all28(1:fix(x/2),:);
all58 = all28(fix(x/2) + 1:end,:);
all59 = all29(1:fix(x/2),:);
all60 = all29(fix(x/2) + 1:end,:);
all61 = all30(1:fix(x/2),:);
all62 = all30(fix(x/2) + 1:end,:);
all31 = mediansort(all31);
all32 = mediansort(all32);
all33 = mediansort(all33);
all34 = mediansort(all34);
all35 = mediansort(all35);
all36 = mediansort(all36);
all37 = mediansort(all37);
all38 = mediansort(all38);
all39 = mediansort(all39);
all40 = mediansort(all40);
all41 = mediansort(all41);
all42 = mediansort(all42);
all43 = mediansort(all43);
all44 = mediansort(all44);
all45 = mediansort(all45);
all46 = mediansort(all46);
all47 = mediansort(all47);
all48 = mediansort(all48);
all49 = mediansort(all49);
all50 = mediansort(all50);
all51 = mediansort(all51);
all52 = mediansort(all52);
all53 = mediansort(all53);
all54 = mediansort(all54);
all55 = mediansort(all55);
all56 = mediansort(all56);
all57 = mediansort(all57);
all58 = mediansort(all58);
all59 = mediansort(all59);
all60 = mediansort(all60);
all61 = mediansort(all61);
all62 = mediansort(all62);
[x, y] = size(all31);
all63 = all31(1:fix(x/2),:);
all64 = all31(fix(x/2) + 1:end,:);
all65 = all32(1:fix(x/2),:);
all66 = all32(fix(x/2) + 1:end,:);
all67 = all33(1:fix(x/2),:);
all68 = all33(fix(x/2) + 1:end,:);
all69 = all34(1:fix(x/2),:);
all70 = all34(fix(x/2) + 1:end,:);
all71 = all35(1:fix(x/2),:);
all72 = all35(fix(x/2) + 1:end,:);
all73 = all36(1:fix(x/2),:);
all74 = all36(fix(x/2) + 1:end,:);
all75 = all37(1:fix(x/2),:);
all76 = all37(fix(x/2) + 1:end,:);
all77 = all38(1:fix(x/2),:);
all78 = all38(fix(x/2) + 1:end,:);
all79 = all39(1:fix(x/2),:);
all80 = all39(fix(x/2) + 1:end,:);
all81 = all40(1:fix(x/2),:);
all82 = all40(fix(x/2) + 1:end,:);
all83 = all41(1:fix(x/2),:);
all84 = all41(fix(x/2) + 1:end,:);
all85 = all42(1:fix(x/2),:);
all86 = all42(fix(x/2) + 1:end,:);
all87 = all43(1:fix(x/2),:);
all88 = all43(fix(x/2) + 1:end,:);
all89 = all44(1:fix(x/2),:);
all90 = all44(fix(x/2) + 1:end,:);
all91 = all45(1:fix(x/2),:);
all92 = all45(fix(x/2) + 1:end,:);
all93 = all46(1:fix(x/2),:);
all94 = all46(fix(x/2) + 1:end,:);
all95 = all47(1:fix(x/2),:);
all96 = all47(fix(x/2) + 1:end,:);
all97 = all48(1:fix(x/2),:);
all98 = all48(fix(x/2) + 1:end,:);
all99 = all49(1:fix(x/2),:);
all100 = all49(fix(x/2) + 1:end,:);
all101 = all50(1:fix(x/2),:);
all102 = all50(fix(x/2) + 1:end,:);
all103 = all51(1:fix(x/2),:);
all104 = all51(fix(x/2) + 1:end,:);
all105 = all52(1:fix(x/2),:);
all106 = all52(fix(x/2) + 1:end,:);
all107 = all53(1:fix(x/2),:);
all108 = all53(fix(x/2) + 1:end,:);
all109 = all54(1:fix(x/2),:);
all110 = all54(fix(x/2) + 1:end,:);
all111 = all55(1:fix(x/2),:);
all112 = all55(fix(x/2) + 1:end,:);
all113 = all56(1:fix(x/2),:);
all114 = all56(fix(x/2) + 1:end,:);
all115 = all57(1:fix(x/2),:);
all116 = all57(fix(x/2) + 1:end,:);
all117 = all58(1:fix(x/2),:);
all118 = all58(fix(x/2) + 1:end,:);
all119 = all59(1:fix(x/2),:);
all120 = all59(fix(x/2) + 1:end,:);
all121 = all60(1:fix(x/2),:);
all122 = all60(fix(x/2) + 1:end,:);
all123 = all61(1:fix(x/2),:);
all124 = all61(fix(x/2) + 1:end,:);
all125 = all62(1:fix(x/2),:);
all126 = all62(fix(x/2) + 1:end,:);
all63 = mediansort(all63);
all64 = mediansort(all64);
all65 = mediansort(all65);
all66 = mediansort(all66);
all67 = mediansort(all67);
all68 = mediansort(all68);
all69 = mediansort(all69);
all70 = mediansort(all70);
all71 = mediansort(all71);
all72 = mediansort(all72);
all73 = mediansort(all73);
all74 = mediansort(all74);
all75 = mediansort(all75);
all76 = mediansort(all76);
all77 = mediansort(all77);
all78 = mediansort(all78);
all79 = mediansort(all79);
all80 = mediansort(all80);
all81 = mediansort(all81);
all82 = mediansort(all82);
all83 = mediansort(all83);
all84 = mediansort(all84);
all85 = mediansort(all85);
all86 = mediansort(all86);
all87 = mediansort(all87);
all88 = mediansort(all88);
all89 = mediansort(all89);
all90 = mediansort(all90);
all91 = mediansort(all91);
all92 = mediansort(all92);
all93 = mediansort(all93);
all94 = mediansort(all94);
[x, y] = size(all63);
all95 = all63(1:fix(x/2),:);
all96 = all63(fix(x/2) + 1:end,:);
all97 = all64(1:fix(x/2),:);
all98 = all64(fix(x/2) + 1:end,:);
all99 = all65(1:fix(x/2),:);
all100 = all65(fix(x/2) + 1:end,:);
all101 = all66(1:fix(x/2),:);
all102 = all66(fix(x/2) + 1:end,:);
all103 = all67(1:fix(x/2),:);
all104 = all67(fix(x/2) + 1:end,:);
all105 = all68(1:fix(x/2),:);
all106 = all68(fix(x/2) + 1:end,:);
all107 = all69(1:fix(x/2),:);
all108 = all69(fix(x/2) + 1:end,:);
all109 = all70(1:fix(x/2),:);
all110 = all70(fix(x/2) + 1:end,:);
all111 = all71(1:fix(x/2),:);
all112 = all71(fix(x/2) + 1:end,:);
all113 = all72(1:fix(x/2),:);
all114 = all72(fix(x/2) + 1:end,:);
all115 = all73(1:fix(x/2),:);
all116 = all73(fix(x/2) + 1:end,:);
all117 = all74(1:fix(x/2),:);
all118 = all74(fix(x/2) + 1:end,:);
all119 = all75(1:fix(x/2),:);
all120 = all75(fix(x/2) + 1:end,:);
all121 = all76(1:fix(x/2),:);
all122 = all76(fix(x/2) + 1:end,:);
all123 = all77(1:fix(x/2),:);
all124 = all77(fix(x/2) + 1:end,:);
all125 = all78(1:fix(x/2),:);
all126 = all78(fix(x/2) + 1:end,:);
all127 = all79(1:fix(x/2),:);
all128 = all79(fix(x/2) + 1:end,:);
all129 = all80(1:fix(x/2),:);
all130 = all80(fix(x/2) + 1:end,:);
all131 = all81(1:fix(x/2),:);
all132 = all81(fix(x/2) + 1:end,:);
all133 = all82(1:fix(x/2),:);
all134 = all82(fix(x/2) + 1:end,:);
all135 = all83(1:fix(x/2),:);
all136 = all83(fix(x/2) + 1:end,:);
all137 = all84(1:fix(x/2),:);
all138 = all84(fix(x/2) + 1:end,:);
all139 = all85(1:fix(x/2),:);
all140 = all85(fix(x/2) + 1:end,:);
all141 = all86(1:fix(x/2),:);
all142 = all86(fix(x/2) + 1:end,:);
all143 = all87(1:fix(x/2),:);
all144 = all87(fix(x/2) + 1:end,:);
all145 = all88(1:fix(x/2),:);
all146 = all88(fix(x/2) + 1:end,:);
all147 = all89(1:fix(x/2),:);
all148 = all89(fix(x/2) + 1:end,:);
all149 = all90(1:fix(x/2),:);
all150 = all90(fix(x/2) + 1:end,:);
all151 = all91(1:fix(x/2),:);
all152 = all91(fix(x/2) + 1:end,:);
all153 = all92(1:fix(x/2),:);
all154 = all92(fix(x/2) + 1:end,:);
all155 = all93(1:fix(x/2),:);
all156 = all93(fix(x/2) + 1:end,:);
all157 = all94(1:fix(x/2),:);
all158 = all94(fix(x/2) + 1:end,:);
all95 = mediansort(all95);
all96 = mediansort(all96);
all97 = mediansort(all97);
all98 = mediansort(all98);
all99 = mediansort(all99);
all100 = mediansort(all100);
all101 = mediansort(all101);
all102 = mediansort(all102);
all103 = mediansort(all103);
all104 = mediansort(all104);
all105 = mediansort(all105);
all106 = mediansort(all106);
all107 = mediansort(all107);
all108 = mediansort(all108);
all109 = mediansort(all109);
all110 = mediansort(all110);
all111 = mediansort(all111);
all112 = mediansort(all112);
all113 = mediansort(all113);
all114 = mediansort(all114);
all115 = mediansort(all115);
all116 = mediansort(all116);
all117 = mediansort(all117);
all118 = mediansort(all118);
all119 = mediansort(all119);
all120 = mediansort(all120);
all121 = mediansort(all121);
all122 = mediansort(all122);
all123 = mediansort(all123);
all124 = mediansort(all124);
all125 = mediansort(all125);
all126 = mediansort(all126);
all127 = mediansort(all127);
all128 = mediansort(all128);
all129 = mediansort(all129);
all130 = mediansort(all130);
all131 = mediansort(all131);
all132 = mediansort(all132);
all133 = mediansort(all133);
all134 = mediansort(all134);
all135 = mediansort(all135);
all136 = mediansort(all136);
all137 = mediansort(all137);
all138 = mediansort(all138);
all139 = mediansort(all139);
all140 = mediansort(all140);
all141 = mediansort(all141);
all142 = mediansort(all142);
all143 = mediansort(all143);
all144 = mediansort(all144);
all145 = mediansort(all145);
all146 = mediansort(all146);
all147 = mediansort(all147);
all148 = mediansort(all148);
all149 = mediansort(all149);
all150 = mediansort(all150);
all151 = mediansort(all151);
all152 = mediansort(all152);
all153 = mediansort(all153);
all154 = mediansort(all154);
all155 = mediansort(all155);
all156 = mediansort(all156);
all157 = mediansort(all157);
all158 = mediansort(all158);
[x, y] = size(all95);
all159 = all95(1:fix(x/2),:);
all160 = all95(fix(x/2) + 1:end,:);
all161 = all96(1:fix(x/2),:);
all162 = all96(fix(x/2) + 1:end,:);
all163 = all97(1:fix(x/2),:);
all164 = all97(fix(x/2) + 1:end,:);
all165 = all98(1:fix(x/2),:);
all166 = all98(fix(x/2) + 1:end,:);
all167 = all99(1:fix(x/2),:);
all168 = all99(fix(x/2) + 1:end,:);
all169 = all100(1:fix(x/2),:);
all170 = all100(fix(x/2) + 1:end,:);
all171 = all101(1:fix(x/2),:);
all172 = all101(fix(x/2) + 1:end,:);
all173 = all102(1:fix(x/2),:);
all174 = all102(fix(x/2) + 1:end,:);
all175 = all103(1:fix(x/2),:);
all176 = all103(fix(x/2) + 1:end,:);
all177 = all104(1:fix(x/2),:);
all178 = all104(fix(x/2) + 1:end,:);
all179 = all105(1:fix(x/2),:);
all180 = all105(fix(x/2) + 1:end,:);
all181 = all106(1:fix(x/2),:);
all182 = all106(fix(x/2) + 1:end,:);
all183 = all107(1:fix(x/2),:);
all184 = all107(fix(x/2) + 1:end,:);
all185 = all108(1:fix(x/2),:);
all186 = all108(fix(x/2) + 1:end,:);
all187 = all109(1:fix(x/2),:);
all188 = all109(fix(x/2) + 1:end,:);
all189 = all110(1:fix(x/2),:);
all190 = all110(fix(x/2) + 1:end,:);
all191 = all111(1:fix(x/2),:);
all192 = all111(fix(x/2) + 1:end,:);
all193 = all112(1:fix(x/2),:);
all194 = all112(fix(x/2) + 1:end,:);
all195 = all113(1:fix(x/2),:);
all196 = all113(fix(x/2) + 1:end,:);
all197 = all114(1:fix(x/2),:);
all198 = all114(fix(x/2) + 1:end,:);
all199 = all115(1:fix(x/2),:);
all200 = all115(fix(x/2) + 1:end,:);
all201 = all116(1:fix(x/2),:);
all202 = all116(fix(x/2) + 1:end,:);
all203 = all117(1:fix(x/2),:);
all204 = all117(fix(x/2) + 1:end,:);
all205 = all118(1:fix(x/2),:);
all206 = all118(fix(x/2) + 1:end,:);
all207 = all119(1:fix(x/2),:);
all208 = all119(fix(x/2) + 1:end,:);
all209 = all120(1:fix(x/2),:);
all210 = all120(fix(x/2) + 1:end,:);
all211 = all121(1:fix(x/2),:);
all212 = all121(fix(x/2) + 1:end,:);
all213 = all122(1:fix(x/2),:);
all214 = all122(fix(x/2) + 1:end,:);
all215 = all123(1:fix(x/2),:);
all216 = all123(fix(x/2) + 1:end,:);
all217 = all124(1:fix(x/2),:);
all218 = all124(fix(x/2) + 1:end,:);
all219 = all125(1:fix(x/2),:);
all220 = all125(fix(x/2) + 1:end,:);
all221 = all126(1:fix(x/2),:);
all222 = all126(fix(x/2) + 1:end,:);
all223 = all127(1:fix(x/2),:);
all224 = all127(fix(x/2) + 1:end,:);
all225 = all128(1:fix(x/2),:);
all226 = all128(fix(x/2) + 1:end,:);
all227 = all129(1:fix(x/2),:);
all228 = all129(fix(x/2) + 1:end,:);
all229 = all130(1:fix(x/2),:);
all230 = all130(fix(x/2) + 1:end,:);
all231 = all131(1:fix(x/2),:);
all232 = all131(fix(x/2) + 1:end,:);
all233 = all132(1:fix(x/2),:);
all234 = all132(fix(x/2) + 1:end,:);
all235 = all133(1:fix(x/2),:);
all236 = all133(fix(x/2) + 1:end,:);
all237 = all134(1:fix(x/2),:);
all238 = all134(fix(x/2) + 1:end,:);
all239 = all135(1:fix(x/2),:);
all240 = all135(fix(x/2) + 1:end,:);
all241 = all136(1:fix(x/2),:);
all242 = all136(fix(x/2) + 1:end,:);
all243 = all137(1:fix(x/2),:);
all244 = all137(fix(x/2) + 1:end,:);
all245 = all138(1:fix(x/2),:);
all246 = all138(fix(x/2) + 1:end,:);
all247 = all139(1:fix(x/2),:);
all248 = all139(fix(x/2) + 1:end,:);
all249 = all140(1:fix(x/2),:);
all250 = all140(fix(x/2) + 1:end,:);
all251 = all141(1:fix(x/2),:);
all252 = all141(fix(x/2) + 1:end,:);
all253 = all142(1:fix(x/2),:);
all254 = all142(fix(x/2) + 1:end,:);
all255 = all143(1:fix(x/2),:);
all256 = all143(fix(x/2) + 1:end,:);
all257 = all144(1:fix(x/2),:);
all258 = all144(fix(x/2) + 1:end,:);
all259 = all145(1:fix(x/2),:);
all260 = all145(fix(x/2) + 1:end,:);
all261 = all146(1:fix(x/2),:);
all262 = all146(fix(x/2) + 1:end,:);
all263 = all147(1:fix(x/2),:);
all264 = all147(fix(x/2) + 1:end,:);
all265 = all148(1:fix(x/2),:);
all266 = all148(fix(x/2) + 1:end,:);
all267 = all149(1:fix(x/2),:);
all268 = all149(fix(x/2) + 1:end,:);
all269 = all150(1:fix(x/2),:);
all270 = all150(fix(x/2) + 1:end,:);
all271 = all151(1:fix(x/2),:);
all272 = all151(fix(x/2) + 1:end,:);
all273 = all152(1:fix(x/2),:);
all274 = all152(fix(x/2) + 1:end,:);
all275 = all153(1:fix(x/2),:);
all276 = all153(fix(x/2) + 1:end,:);
all277 = all154(1:fix(x/2),:);
all278 = all154(fix(x/2) + 1:end,:);
all279 = all155(1:fix(x/2),:);
all280 = all155(fix(x/2) + 1:end,:);
all281 = all156(1:fix(x/2),:);
all282 = all156(fix(x/2) + 1:end,:);
all283 = all157(1:fix(x/2),:);
all284 = all157(fix(x/2) + 1:end,:);
all285 = all158(1:fix(x/2),:);
all286 = all158(fix(x/2) + 1:end,:);
all159 = mediansort(all159);
all160 = mediansort(all160);
all161 = mediansort(all161);
all162 = mediansort(all162);
all163 = mediansort(all163);
all164 = mediansort(all164);
all165 = mediansort(all165);
all166 = mediansort(all166);
all167 = mediansort(all167);
all168 = mediansort(all168);
all169 = mediansort(all169);
all170 = mediansort(all170);
all171 = mediansort(all171);
all172 = mediansort(all172);
all173 = mediansort(all173);
all174 = mediansort(all174);
all175 = mediansort(all175);
all176 = mediansort(all176);
all177 = mediansort(all177);
all178 = mediansort(all178);
all179 = mediansort(all179);
all180 = mediansort(all180);
all181 = mediansort(all181);
all182 = mediansort(all182);
all183 = mediansort(all183);
all184 = mediansort(all184);
all185 = mediansort(all185);
all186 = mediansort(all186);
all187 = mediansort(all187);
all188 = mediansort(all188);
all189 = mediansort(all189);
all190 = mediansort(all190);
all191 = mediansort(all191);
all192 = mediansort(all192);
all193 = mediansort(all193);
all194 = mediansort(all194);
all195 = mediansort(all195);
all196 = mediansort(all196);
all197 = mediansort(all197);
all198 = mediansort(all198);
all199 = mediansort(all199);
all200 = mediansort(all200);
all201 = mediansort(all201);
all202 = mediansort(all202);
all203 = mediansort(all203);
all204 = mediansort(all204);
all205 = mediansort(all205);
all206 = mediansort(all206);
all207 = mediansort(all207);
all208 = mediansort(all208);
all209 = mediansort(all209);
all210 = mediansort(all210);
all211 = mediansort(all211);
all212 = mediansort(all212);
all213 = mediansort(all213);
all214 = mediansort(all214);
all215 = mediansort(all215);
all216 = mediansort(all216);
all217 = mediansort(all217);
all218 = mediansort(all218);
all219 = mediansort(all219);
all220 = mediansort(all220);
all221 = mediansort(all221);
all222 = mediansort(all222);
all223 = mediansort(all223);
all224 = mediansort(all224);
all225 = mediansort(all225);
all226 = mediansort(all226);
all227 = mediansort(all227);
all228 = mediansort(all228);
all229 = mediansort(all229);
all230 = mediansort(all230);
all231 = mediansort(all231);
all232 = mediansort(all232);
all233 = mediansort(all233);
all234 = mediansort(all234);
all235 = mediansort(all235);
all236 = mediansort(all236);
all237 = mediansort(all237);
all238 = mediansort(all238);
all239 = mediansort(all239);
all240 = mediansort(all240);
all241 = mediansort(all241);
all242 = mediansort(all242);
all243 = mediansort(all243);
all244 = mediansort(all244);
all245 = mediansort(all245);
all246 = mediansort(all246);
all247 = mediansort(all247);
all248 = mediansort(all248);
all249 = mediansort(all249);
all250 = mediansort(all250);
all251 = mediansort(all251);
all252 = mediansort(all252);
all253 = mediansort(all253);
all254 = mediansort(all254);
all255 = mediansort(all255);
all256 = mediansort(all256);
all257 = mediansort(all257);
all258 = mediansort(all258);
all259 = mediansort(all259);
all260 = mediansort(all260);
all261 = mediansort(all261);
all262 = mediansort(all262);
all263 = mediansort(all263);
all264 = mediansort(all264);
all265 = mediansort(all265);
all266 = mediansort(all266);
all267 = mediansort(all267);
all268 = mediansort(all268);
all269 = mediansort(all269);
all270 = mediansort(all270);
all271 = mediansort(all271);
all272 = mediansort(all272);
all273 = mediansort(all273);
all274 = mediansort(all274);
all275 = mediansort(all275);
all276 = mediansort(all276);
all277 = mediansort(all277);
all278 = mediansort(all278);
all279 = mediansort(all279);
all280 = mediansort(all280);
all281 = mediansort(all281);
all282 = mediansort(all282);
all283 = mediansort(all283);
all284 = mediansort(all284);
all285 = mediansort(all285);
all286 = mediansort(all286);
for i = 159:286
    eval(['avg_r' num2str(i - 158) '=' sum(('all' num2str(i))(1:fix(x/2),1))]);
end
[x, y] = size(all159);
avg_r1 = sum(all159(1:fix(x/2),1))/fix(x/2);
avg_r2 = sum(all159(fix(x/2) + 1:x,1))/fix(x/2);
avg_g1 = sum(all159(1:fix(x/2),2))/fix(x/2);
avg_g2 = sum(all159(fix(x/2) + 1:x,2))/fix(x/2);
avg_b1 = sum(all159(1:fix(x/2),3))/fix(x/2);
avg_b2 = sum(all159(fix(x/2) + 1:x,3))/fix(x/2);
[x, y] = size(all160);
avg_r3 = sum(all8(1:fix(x/2),1))/fix(x/2);
avg_r4 = sum(all8(fix(x/2) + 1:x,1))/fix(x/2);
avg_g3 = sum(all8(1:fix(x/2),2))/fix(x/2);
avg_g4 = sum(all8(fix(x/2) + 1:x,2))/fix(x/2);
avg_b3 = sum(all8(1:fix(x/2),3))/fix(x/2);
avg_b4 = sum(all8(1:fix(x/2),3))/fix(x/2);
[x, y] = size(all9);
avg_r5 = sum(all9(1:fix(x/2),1))/fix(x/2);
avg_r6 = sum(all9(fix(x/2) + 1:x,1))/fix(x/2);
avg_g5 = sum(all9(1:fix(x/2),2))/fix(x/2);
avg_g6 = sum(all9(fix(x/2) + 1:x,2))/fix(x/2);
avg_b5 = sum(all9(1:fix(x/2),3))/fix(x/2);
avg_b6 = sum(all9(1:fix(x/2),3))/fix(x/2);
[x, y] = size(all10);
avg_r7 = sum(all10(1:fix(x/2),1))/fix(x/2);
avg_r8 = sum(all10(fix(x/2) + 1:x,1))/fix(x/2);
avg_g7 = sum(all10(1:fix(x/2),2))/fix(x/2);
avg_g8 = sum(all10(fix(x/2) + 1:x,2))/fix(x/2);
avg_b7 = sum(all10(1:fix(x/2),3))/fix(x/2);
avg_b8 = sum(all10(1:fix(x/2),3))/fix(x/2);
[x, y] = size(all11);
avg_r9 = sum(all11(1:fix(x/2),1))/fix(x/2);
avg_r10 = sum(all11(fix(x/2) + 1:x,1))/fix(x/2);
avg_g9 = sum(all11(1:fix(x/2),2))/fix(x/2);
avg_g10 = sum(all11(fix(x/2) + 1:x,2))/fix(x/2);
avg_b9 = sum(all11(1:fix(x/2),3))/fix(x/2);
avg_b10 = sum(all11(1:fix(x/2),3))/fix(x/2);
[x, y] = size(all12);
avg_r11 = sum(all12(1:fix(x/2),1))/fix(x/2);
avg_r12 = sum(all12(fix(x/2) + 1:x,1))/fix(x/2);
avg_g11 = sum(all12(1:fix(x/2),2))/fix(x/2);
avg_g12 = sum(all12(fix(x/2) + 1:x,2))/fix(x/2);
avg_b11 = sum(all12(1:fix(x/2),3))/fix(x/2);
avg_b12 = sum(all12(1:fix(x/2),3))/fix(x/2);
[x, y] = size(all13);
avg_r13 = sum(all13(1:fix(x/2),1))/fix(x/2);
avg_r14 = sum(all13(fix(x/2) + 1:x,1))/fix(x/2);
avg_g13 = sum(all13(1:fix(x/2),2))/fix(x/2);
avg_g14 = sum(all13(fix(x/2) + 1:x,2))/fix(x/2);
avg_b13 = sum(all13(1:fix(x/2),3))/fix(x/2);
avg_b14 = sum(all13(1:fix(x/2),3))/fix(x/2);
[x, y] = size(all14);
avg_r15 = sum(all14(1:fix(x/2),1))/fix(x/2);
avg_r16 = sum(all14(fix(x/2) + 1:x,1))/fix(x/2);
avg_g15 = sum(all14(1:fix(x/2),2))/fix(x/2);
avg_g16 = sum(all14(fix(x/2) + 1:x,2))/fix(x/2);
avg_b15 = sum(all14(1:fix(x/2),3))/fix(x/2);
avg_b16 = sum(all14(1:fix(x/2),3))/fix(x/2);